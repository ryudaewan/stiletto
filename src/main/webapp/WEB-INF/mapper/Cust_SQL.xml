<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.pe.ryudaewan.stiletto.autocomplete.dao.impl.CustomerDAOImplMyBatis">
    <select id="selectCustNms" parameterType="hashmap"
            resultType="kr.pe.ryudaewan.stiletto.autocomplete.entity.Customer"><![CDATA[
        SELECT cn.cust_cd as Id,
            cn.comp_nm_k as custNm,
            'ko' as langCd,
            UTL_MATCH.JARO_WINKLER(#{keyword}, cn.comp_nm_k) as jwVal,
            #{keyword} keyword
        from km_customer cn
        where 1=1 AND
            cn.comp_nm_k like #{twoLetters}
        ORDER BY jwVal DESC]]>
    </select>
</mapper>