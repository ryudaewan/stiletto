<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.pe.ryudaewan.stiletto.autocomplete.dao.impl.CustomerDAOImplMyBatis">
    <select id="selectCustNms" parameterType="hashmap" resultType="kr.pe.ryudaewan.stiletto.autocomplete.entity.Customer"><![CDATA[
        SELECT cn.CUST_ID as Id,
            cn.CUST_NM as custNm,
            cn.LANG_CD as langCd,
            UTL_MATCH.JARO_WINKLER(#{keyword}, cn.CUST_NM) as jwVal,
            #{keyword} keyword
        from TB_CUST_NM cn
        where 1=1 AND
            cn.CUST_NM like #{keyword.substring}
            ORDER BY jw DESC]]>
    </select>
</mapper>